<!doctype html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K7RZ77Q0G7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K7RZ77Q0G7');
</script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>All Writing | HJ Automations</title>
  <meta name="description" content="Browse all HJ Automations posts on AI tools, automation systems, LLM guides, and case studies.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header" id="site-header">
    <div class="container nav-wrap">
      <a class="brand" href="index.html" aria-label="HJ Automations home">
        <span class="brand-mark">HJ</span>
        <span class="brand-text">Automations</span>
      </a>
      <div class="nav-right">
        <nav class="site-nav" id="site-nav" aria-label="Primary navigation">
          <a href="index.html">Home</a>
          <a class="active" href="blog.html">Blog</a>
          <a href="about.html">About</a>
          <a href="services.html">Services</a>
          <a href="contact.html">Contact</a>
        </nav>
        <button class="menu-toggle" id="menu-toggle" type="button" aria-label="Toggle menu" aria-expanded="false">&#9776;</button>
      </div>
    </div>
  </header>

  <main>
    <section class="page-hero reveal">
      <div class="blog-shell">
        <h1>All Writing <span class="badge count-badge" id="post-count">0 posts</span></h1>
        <p class="muted" style="max-width:65ch;">A complete archive of practical AI notes, LLM guides, and automation playbooks.</p>
        <div class="blog-controls">
          <input class="input" id="search-input" type="search" placeholder="Search posts..." aria-label="Search blog posts">
          <div class="filter-row" id="filter-row">
            <button class="filter-pill active" data-filter="All" type="button">All</button>
            <button class="filter-pill" data-filter="AI Tools" type="button">AI Tools</button>
            <button class="filter-pill" data-filter="LLM Guides" type="button">LLM Guides</button>
            <button class="filter-pill" data-filter="Automation" type="button">Automation</button>
            <button class="filter-pill" data-filter="Case Studies" type="button">Case Studies</button>
          </div>
        </div>
      </div>
    </section>

    <section class="reveal" style="padding-top:0;">
      <div class="blog-shell">
        <div class="blog-list" id="blog-list" aria-live="polite"></div>
        <div class="load-more-wrap">
          <button class="btn btn-ghost" id="load-more" type="button">Load More</button>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <section>
        <h3 class="footer-title">HJ Automations</h3>
        <p class="muted" style="margin:0;">High-signal writing about AI, workflows, and creator systems.</p>
      </section>
      <section>
        <h3 class="footer-title">Quick Links</h3>
        <nav class="footer-links" aria-label="Footer navigation">
          <a href="index.html">Home</a>
          <a href="blog.html">Blog</a>
          <a href="about.html">About</a>
        </nav>
      </section>
      <section>
        <h3 class="footer-title">Social</h3>
        <div class="footer-links">
          <a href="https://www.linkedin.com/company/111718821" target="_blank" rel="noopener noreferrer">LinkedIn</a>
          <a href="https://www.facebook.com/profile.php?id=61588027225877" target="_blank" rel="noopener noreferrer">Facebook</a>
          <a href="mailto:hamzajadoon71@gmail.com">Email</a>
        </div>
      </section>
    </div>
    <div class="container footer-bottom">&copy; <span id="year"></span> HJ Automations. All rights reserved.</div>
  </footer>

  <script>
    const header = document.getElementById("site-header");
    const nav = document.getElementById("site-nav");
    const menuToggle = document.getElementById("menu-toggle");
    const blogList = document.getElementById("blog-list");
    const postCount = document.getElementById("post-count");
    const searchInput = document.getElementById("search-input");
    const loadMoreBtn = document.getElementById("load-more");

    let allPosts = [];
    let activeFilter = "All";
    let query = "";
    let visibleCount = 6;

    document.getElementById("year").textContent = new Date().getFullYear();

    menuToggle.addEventListener("click", () => {
      const open = nav.classList.toggle("open");
      menuToggle.setAttribute("aria-expanded", String(open));
    });

    window.addEventListener("scroll", () => {
      if (window.scrollY > 8) header.classList.add("is-scrolled");
      else header.classList.remove("is-scrolled");
    });

    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) entry.target.classList.add("visible");
      });
    }, { threshold: 0.12 });
    document.querySelectorAll(".reveal").forEach((el) => revealObserver.observe(el));

    const formatDate = (date) => new Date(date).toLocaleDateString("en-US", { month: "short", day: "numeric", year: "numeric" });
    const postHref = (post) => post.url || `posts/${post.slug}.html`;

    function categoryMatch(post) {
      if (activeFilter === "All") return true;
      if (activeFilter === "Automation") return post.category.toLowerCase().includes("automation");
      return post.category === activeFilter;
    }

    function queryMatch(post) {
      if (!query) return true;
      const haystack = [post.title, post.excerpt, post.category, post.readTime].join(" ").toLowerCase();
      return haystack.includes(query);
    }

    function renderPosts() {
      const filtered = allPosts.filter((post) => categoryMatch(post) && queryMatch(post));
      postCount.textContent = `${filtered.length} posts`;
      const visible = filtered.slice(0, visibleCount);

      blogList.innerHTML = visible.map((post) => `
        <article class="blog-row">
          <div>
            <span class="badge">${post.category}</span>
            <h2><a href="${postHref(post)}">${post.title}</a></h2>
            <p>${post.excerpt}</p>
          </div>
          <div class="blog-row-meta">
            <span>${formatDate(post.date)}</span>
            <span>${post.readTime}</span>
          </div>
        </article>
      `).join("") || "<p class='muted' style='padding:18px 12px;'>No posts found.</p>";

      loadMoreBtn.style.display = visible.length < filtered.length ? "inline-flex" : "none";
    }

    document.querySelectorAll(".filter-pill").forEach((pill) => {
      pill.addEventListener("click", () => {
        document.querySelectorAll(".filter-pill").forEach((node) => node.classList.remove("active"));
        pill.classList.add("active");
        activeFilter = pill.dataset.filter;
        visibleCount = 6;
        renderPosts();
      });
    });

    searchInput.addEventListener("input", (event) => {
      query = event.target.value.trim().toLowerCase();
      visibleCount = 6;
      renderPosts();
    });

    loadMoreBtn.addEventListener("click", () => {
      visibleCount += 6;
      renderPosts();
    });

    fetch("posts/posts.json", { cache: "no-store" })
      .then((res) => {
        if (!res.ok) throw new Error("Failed to load posts/posts.json");
        return res.json();
      })
      .then((posts) => {
        allPosts = [...posts].sort((a, b) => new Date(b.date) - new Date(a.date));
        renderPosts();
      })
      .catch(() => {
        blogList.innerHTML = "<p class='muted' style='padding:18px 12px;'>Unable to load posts right now.</p>";
        loadMoreBtn.style.display = "none";
      });
  </script>
</body>
</html>

